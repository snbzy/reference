RabbitMQ 备忘清单
===

这是 [RabbitMQ](https://www.rabbitmq.com/documentation.html) 的快速参考备忘单。 你可以在这里找到最常见的 RabbitMQ 命令。

入门
----
<!--rehype:body-class=cols-2-->



问答
----
<!--rehype:body-class=cols-3-->

### 消息队列有哪些使用场景
:-|:-
:-|:-
场景| 举例
应用解耦 | 下单扣库存，用户下单后，订单系统去通知库存系统扣减
流量削峰 | 们做秒杀实现的时候，需要避免流量暴 涨，打垮应用系统的风险。可以在应用前面加入消息队列
异步处理 | 用户注册成功后，给它发个短信和发个邮件
消息通讯 | 消息队列内置了高效的通信机制，可用于消息通讯。如实现点对点消息队列、 聊天室等。
远程调用 | 接口远程调用



### RabbitMQ消息丢失的3种情况
<img src="https://s2.loli.net/2023/02/01/BMdj3W9NQPKu71D.png" width="100%" alt=""/>

- 第一种情况：传输过程消息丢失

可以采用事务控制，事务是同步的，开启事务阻塞性能降低
- 第二种情况：中间件自己把消息丢失，可能的情况如宕机，重启

开启中间件的消息持久化功能，开启持久化是在发送消息之前持久化，降低性能
- 第三种情况：消费者接收到消息没来得及消费，中间件以为被消费

关闭中间件的自动消息确认功能，开发人员手动确认消息确认

另见
----

- [RabbitMQ 官网](https://www.rabbitmq.com/)
